# UCAgentï¼ˆUnityChip verification Agentï¼‰

åŸºäºå¤§æ¨¡å‹è¿›è¡Œè‡ªåŠ¨åŒ– UT éªŒè¯ AI ä»£ç†

[English Introduction](/README.en.md) | [UCAgent åœ¨çº¿æ–‡æ¡£](https://ucagent.open-verify.cc)

## é¡¹ç›®ç®€ä»‹

UCAgent æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„è‡ªåŠ¨åŒ–ç¡¬ä»¶éªŒè¯ AI ä»£ç†ï¼Œä¸“æ³¨äºèŠ¯ç‰‡è®¾è®¡çš„å•å…ƒæµ‹è¯•(Unit Test)éªŒè¯å·¥ä½œã€‚é€šè¿‡ AI æŠ€æœ¯è‡ªåŠ¨åˆ†æç¡¬ä»¶è®¾è®¡ï¼Œç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰§è¡ŒéªŒè¯ä»»åŠ¡å¹¶ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼Œä»è€Œæé«˜éªŒè¯æ•ˆç‡ã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**

- è‡ªåŠ¨åŒ–èŠ¯ç‰‡éªŒè¯å·¥ä½œæµ
- æ”¯æŒåŠŸèƒ½è¦†ç›–ç‡ä¸ä»£ç è¦†ç›–ç‡åˆ†æ
- æ–‡æ¡£ã€ä»£ç ã€æŠ¥å‘Šä¸€è‡´æ€§ä¿éšœ
- æ”¯æŒ MCP åè®®ä¸ä¸»æµ Code Agentï¼ˆOpenHandsã€Copilotã€Claude Codeã€Gemini-CLIã€Qwen-Code ç­‰ï¼‰æ·±åº¦ååŒ
- æä¾›ä¸‰ç§æ™ºèƒ½äº¤äº’æ¨¡å¼ï¼ˆstandardã€enhancedã€advancedï¼‰

æ›´å¤šè¯¦ç»†ä»‹ç»è¯·å‚è€ƒ [UCAgent åœ¨çº¿æ–‡æ¡£](https://ucagent.open-verify.cc)

---

## ç³»ç»Ÿè¦æ±‚

- Python 3.11+
- æ”¯æŒçš„æ“ä½œç³»ç»Ÿ: Linux, macOS
- å†…å­˜: å»ºè®® 4GB ä»¥ä¸Š
- ç½‘ç»œ: éœ€è¦è®¿é—® AI æ¨¡å‹ APIï¼ˆOpenAI å…¼å®¹ï¼‰
- picker: https://github.com/XS-MLVP/picker

---

## å¿«é€Ÿå…¥é—¨

### 1. ä¸‹è½½æºç 

```bash
git clone https://github.com/XS-MLVP/UCAgent.git
cd UCAgent
```

### 2. å®‰è£…ä¾èµ–

```bash
pip3 install -r requirements.txt
```

### 3. ç¼–è¯‘ DUT

ä»¥ç¼–è¯‘ example ä¸­çš„ Adder ä¸ºä¾‹ï¼ˆä¾èµ– [picker](https://github.com/XS-MLVP/picker)ï¼‰ï¼š

```bash
make init_Adder
```

### 4. å¯åŠ¨ MCP-Server

é»˜è®¤åœ°å€ä¸ºï¼šhttp://127.0.0.1:5000

```bash
make mcp_Adder  # workspace è®¾ç½®ä¸ºå½“å‰ç›®å½•ä¸‹çš„ output
```

### 5. å®‰è£…é…ç½® Qwen Code CLI

è¯·å‚è€ƒï¼š[https://qwenlm.github.io/qwen-code-docs/en/](https://qwenlm.github.io/qwen-code-docs/en/)

ç”±äºæµ‹è¯•ç”¨ä¾‹å¤šäº†åè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œå»ºè®® `timeout` å€¼è®¾ç½®å¤§ä¸€äº›ï¼Œä¾‹å¦‚ 10 ç§’ã€‚

`~/.qwen/settings.json` é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š

```json
{
	"mcpServers": {
		"unitytest": {
			"httpUrl": "http://localhost:5000/mcp",
			"timeout": 10000
		}
	}
}
```

### 6. å¼€å§‹éªŒè¯

```bash
cd output
qwen
```

**æ³¨æ„ï¼š** éœ€è¦åœ¨å·¥ä½œç›®å½•ï¼ˆå¦‚ä¸Šè¿°ä¾‹å­ä¸­çš„ outputï¼‰ä¸­å¯åŠ¨ Code Agentï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ–‡ä»¶è·¯å¾„ä¸åŒ¹é…é—®é¢˜ã€‚

**è¾“å…¥ä»»åŠ¡æç¤ºè¯ï¼š**

> è¯·é€šè¿‡å·¥å…·`RoleInfo`è·å–ä½ çš„è§’è‰²ä¿¡æ¯å’ŒåŸºæœ¬æŒ‡å¯¼ï¼Œç„¶åå®Œæˆä»»åŠ¡ã€‚è¯·ä½¿ç”¨å·¥å…·`ReadTextFile`è¯»å–æ–‡ä»¶ã€‚ä½ éœ€è¦åœ¨å½“å‰å·¥ä½œç›®å½•è¿›è¡Œæ–‡ä»¶æ“ä½œï¼Œä¸è¦è¶…å‡ºè¯¥ç›®å½•ã€‚

**æç¤ºï¼š**

- è¯·æ ¹æ®ä»»åŠ¡éœ€è¦ç¼–å†™éªŒè¯ Prompt
- å½“ Code Agent ä¸­é€”åœæ­¢æ—¶ï¼Œå¯è¾“å…¥ `ç»§ç»­ï¼Œè¯·é€šè¿‡å·¥å…·Checkå’ŒCompleteåˆ¤æ–­æ˜¯å¦å®Œæˆæ‰€æœ‰ä»»åŠ¡`

> ğŸ’¡ **æ›´å¤šä½¿ç”¨æ–¹å¼ï¼š** é™¤äº† MCP ååŒæ¨¡å¼ï¼ŒUCAgent è¿˜æ”¯æŒç›´æ¥æ¥å…¥ LLMã€äººæœºååŒç­‰å¤šç§æ¨¡å¼ï¼Œè¯¦è§ [ä½¿ç”¨æ–‡æ¡£](https://ucagent.open-verify.cc/usage/)

---

## åŸºæœ¬æ“ä½œ

### TUI å¿«æ·é”®

- `ctrl + ä¸Š/ä¸‹/å·¦/å³`ï¼šè°ƒèŠ‚ç•Œé¢å¸ƒå±€
- `shift + ä¸Š/ä¸‹`ï¼šè°ƒèŠ‚çŠ¶æ€é¢æ¿é«˜åº¦
- `shift + å³`ï¼šæ¸…ç©ºæ§åˆ¶å°
- `shift + å·¦`ï¼šæ¸…ç©ºè¾“å…¥
- `alt + ä¸Š/ä¸‹`ï¼šæ»šåŠ¨Messageç•Œé¢å†…å®¹
- `alt + å·¦/å³`ï¼šæ»šåŠ¨Consoleç•Œé¢å†…å®¹
- `esc`: å¼ºåˆ¶åˆ·æ–°ç•Œé¢/é€€å‡ºæ»šåŠ¨

### é˜¶æ®µé¢œè‰²æç¤º

- `ç™½è‰²`ï¼šå¾…æ‰§è¡Œ
- `çº¢è‰²`ï¼šæ­£åœ¨æ‰§è¡Œ
- `ç»¿è‰²`ï¼šæ‰§è¡Œé€šè¿‡
- `*`ï¼šè¡¨ç¤ºè¯¥é˜¶æ®µéœ€è¦å¼ºåˆ¶äººå·¥æ£€æŸ¥ï¼Œè¾“å…¥å‘½ä»¤ `hmcheck_pass [msg]` å AI æ‰èƒ½ç»§ç»­
- `é»„è‰²`ï¼šè·³è¿‡è¯¥é˜¶æ®µ

### å¸¸ç”¨äº¤äº’å‘½ä»¤

- `q`ï¼šé€€å‡º TUIï¼ˆæˆ–é€€å‡º UCAgentï¼‰
- `tui`ï¼šè¿›å…¥ TUI
- `tab`: å‘½ä»¤è¡¥å…¨
- `tool_list`ï¼šåˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·
- `help`ï¼šæŸ¥çœ‹æ‰€æœ‰å‘½ä»¤å¸®åŠ©
- `loop [prompt]`ï¼šç»§ç»­å½“å‰ä»»åŠ¡

> ğŸ“– **è¯¦ç»†æ“ä½œè¯´æ˜ï¼š** æŸ¥çœ‹ [TUI ä½¿ç”¨æ–‡æ¡£](https://ucagent.open-verify.cc/usage/tui/)

---

## å¸¸è§é—®é¢˜ (FAQ)

**Q: å¦‚ä½•é…ç½®ä¸åŒçš„ AI æ¨¡å‹ï¼Ÿ**

A: åœ¨ `config.yaml` ä¸­ä¿®æ”¹ `openai.model_name` å­—æ®µï¼Œæ”¯æŒä»»ä½• OpenAI å…¼å®¹çš„ APIã€‚è¯¦è§[é…ç½®æ–‡æ¡£](https://ucagent.open-verify.cc/usage/direct/)ã€‚

**Q: éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯æ€ä¹ˆåŠï¼Ÿ**

A: ä½¿ç”¨ `Ctrl+C` è¿›å…¥äº¤äº’æ¨¡å¼ï¼Œé€šè¿‡ `status` æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼Œä½¿ç”¨ `help` è·å–è°ƒè¯•å‘½ä»¤ã€‚

**Q: MCP æœåŠ¡å™¨æ— æ³•è¿æ¥ï¼Ÿ**

A: æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œç¡®è®¤é˜²ç«å¢™è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡ `--mcp-server-port` æŒ‡å®šå…¶ä»–ç«¯å£ã€‚

**Q: ä¸ºä½•æœ‰ä¸Šæ¬¡æ‰§è¡Œä¿¡æ¯æ®‹ç•™ï¼Ÿ**

A: UCAgent é»˜è®¤ä¼šä»å·¥ä½œç›®å½•ä¸­æŸ¥æ‰¾ `.ucagent_info.json` æ–‡ä»¶ï¼Œæ¥åŠ è½½ä¸Šæ¬¡æ‰§è¡Œä¿¡æ¯æ¥ç€æ‰§è¡Œã€‚å¦‚æœä¸éœ€è¦å†å²ä¿¡æ¯ï¼Œè¯·åˆ é™¤è¯¥æ–‡ä»¶æˆ–è€…ä½¿ç”¨å‚æ•° `--no-history` å¿½ç•¥åŠ è½½å†å²ã€‚

**Q: å¦‚ä½•è¿è¡Œé•¿æ—¶é—´éªŒè¯ï¼Ÿ**

A: è¯·å‚è€ƒ CodeAgent çš„æ— å¤´æ¨¡å¼ä»¥åŠè„šæœ¬ `tests/test_nohead_loop.bash`ã€‚

**Q: å¯ä»¥è‡ªå®šä¹‰éªŒè¯é˜¶æ®µå—ï¼Ÿ**

A: å¯ä»¥ï¼Œè¯¦è§[è‡ªå®šä¹‰æ–‡æ¡£](https://ucagent.open-verify.cc/develop/customize/)ã€‚

**Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å·¥å…·ï¼Ÿ**

A: åœ¨ `vagent/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å·¥å…·ç±»ï¼Œç»§æ‰¿ `UCTool` åŸºç±»ï¼Œå¹¶é€šè¿‡ `--ex-tools` å‚æ•°åŠ è½½ã€‚è¯¦è§[å·¥å…·åˆ—è¡¨æ–‡æ¡£](https://ucagent.open-verify.cc/develop/tool_list/)ã€‚

> ğŸ” **æ›´å¤šé—®é¢˜ï¼š** æŸ¥çœ‹å®Œæ•´ [FAQ æ–‡æ¡£](https://ucagent.open-verify.cc/usage/faq/)

---

## æ–‡æ¡£æ„å»ºä¸é¢„è§ˆï¼ˆMkDocsï¼‰

Makefile æä¾›æ–‡æ¡£ç›¸å…³è¾…åŠ©ç›®æ ‡ï¼ˆMkDocs + Materialï¼‰ï¼š

| ç›®æ ‡                | ä½œç”¨                                         | ä½¿ç”¨åœºæ™¯             |
| ------------------- | -------------------------------------------- | -------------------- |
| `make docs-help`    | æ˜¾ç¤ºæ–‡æ¡£ç›¸å…³ç›®æ ‡å¸®åŠ©                         | æŸ¥çœ‹å¯ç”¨å‘½ä»¤         |
| `make docs-install` | ä» `docs/requirements-docs.txt` å®‰è£…æ„å»ºä¾èµ– | é¦–æ¬¡ä½¿ç”¨æˆ–ä¾èµ–æ›´æ–°æ—¶ |
| `make docs-serve`   | æœ¬åœ°é¢„è§ˆï¼ˆé»˜è®¤ 127.0.0.1:8030ï¼‰              | å¼€å‘å’Œé¢„è§ˆæ–‡æ¡£æ—¶     |
| `make docs-build`   | æ„å»ºé™æ€ç«™ç‚¹åˆ° `docs/site`                   | æœ¬åœ°ç”Ÿæˆç”Ÿäº§ç‰ˆæœ¬     |
| `make docs-clean`   | åˆ é™¤ `docs/site` ç›®å½•                        | æ¸…ç†æ„å»ºäº§ç‰©æ—¶       |

### ä½¿ç”¨æµç¨‹

**ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼ˆå®‰è£…ä¾èµ–ï¼‰ï¼š**

```bash
make docs-install    # å®‰è£… mkdocs å’Œ material ä¸»é¢˜ç­‰ä¾èµ–
```

**æ—¥å¸¸å¼€å‘ï¼ˆé¢„è§ˆæ–‡æ¡£ï¼‰ï¼š**

```bash
make docs-serve      # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œè®¿é—® http://127.0.0.1:8030 æŸ¥çœ‹
# ä¿®æ”¹æ–‡æ¡£åæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ·æ–°
```

**æœ¬åœ°ç”Ÿæˆå’ŒæŸ¥çœ‹ï¼ˆæ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼‰ï¼š**

```bash
make docs-build      # ç”Ÿæˆé™æ€ç½‘ç«™åˆ° docs/site ç›®å½•
# åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­æ‰“å¼€ docs/site/index.html æŸ¥çœ‹
make docs-clean      # æ¸…ç†æ„å»ºäº§ç‰©ï¼ˆå¯é€‰ï¼‰
```

### å®Œæ•´å·¥ä½œæµç¤ºä¾‹

```bash
# 1. é¦–æ¬¡è®¾ç½®ï¼šå®‰è£…ä¾èµ–
make docs-install

# 2. å¼€å‘é˜¶æ®µï¼šé¢„è§ˆæ–‡æ¡£ï¼ˆå¯åå¤æ‰§è¡Œï¼‰
make docs-serve      # åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://127.0.0.1:8030
# ...ç¼–è¾‘æ–‡æ¡£...
# æŒ‰ Ctrl+C åœæ­¢æœåŠ¡

# 3. æœ¬åœ°ç”Ÿæˆï¼šæ„å»ºç”Ÿäº§ç‰ˆæœ¬
make docs-build      # ç”Ÿæˆ docs/site ç›®å½•
# åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­æ‰“å¼€ docs/site/index.html æŸ¥çœ‹

# 4. æ¸…ç†ï¼ˆå¯é€‰ï¼‰
make docs-clean      # åˆ é™¤ docs/site ç›®å½•
```

### è¯´æ˜

- ç«¯å£ä¸åœ°å€ç›®å‰å†™æ­»äº `docs/Makefile` ä¸­ï¼Œå¯è‡ªè¡Œä¿®æ”¹ã€‚
- `make docs-serve` é€‚åˆå¼€å‘æ—¶ä½¿ç”¨ï¼Œæ”¯æŒçƒ­é‡è½½
- `make docs-build` ç”Ÿæˆå®Œæ•´çš„é™æ€ç½‘ç«™æ–‡ä»¶ï¼Œè¾“å‡ºåˆ° docs/site ç›®å½•ï¼Œå¯æœ¬åœ°é¢„è§ˆæœ€ç»ˆæ•ˆæœï¼ˆæ‰“å¼€ docs/site/index.htmlï¼‰

---

## PDF æ‰‹å†Œæ„å»ºï¼ˆPandoc + XeLaTeXï¼‰

ç”¨äºç”Ÿæˆè¾ƒé«˜æ’ç‰ˆè´¨é‡å¼€å‘è€… PDF æ‰‹å†Œï¼š

| ç›®æ ‡             | ä½œç”¨                                     |
| ---------------- | ---------------------------------------- |
| `make pdf`       | ä»æœ‰åº Markdown æºç”Ÿæˆ `ucagent-doc.pdf` |
| `make pdf-one`   | ä¸ `pdf` ç­‰ä»·ï¼ˆæ–¹ä¾¿ CI è°ƒç”¨ï¼‰            |
| `make pdf-clean` | æ¸…ç†ç”Ÿæˆçš„ PDF ä¸ LaTeX ä¸´æ—¶æ–‡ä»¶         |

### ç¤ºä¾‹

```bash
make pdf
make MONO="JetBrains Mono" pdf      # è¦†ç›–ç­‰å®½å­—ä½“
make TWOSIDE=1 pdf                   # åŒé¢æ’ç‰ˆï¼ˆæ–‡ä»¶åæ·»åŠ  -twosideï¼‰
make pdf-clean
```

### ä¾èµ–

- pandoc
- XeLaTeX (TexLive)
- ä¸­æ–‡å­—ä½“ "Noto Serif CJK SC"
- ç­‰å®½å­—ä½“ï¼ˆé»˜è®¤ DejaVu Sans Monoï¼‰
- å¯é€‰è¿‡æ»¤å™¨ `pandoc-crossref`

### è‡ªå®šä¹‰å˜é‡

- `MONO` æ›´æ¢ç­‰å®½å­—ä½“
- `TWOSIDE` éç©ºå¯ç”¨åŒé¢æ¨¡å¼

### å¸¸è§é—®é¢˜

- **å­—ä½“ç¼ºå¤±ï¼š** å®‰è£… CJK å­—ä½“åŒ…ï¼ˆå¦‚ `fonts-noto-cjk`ï¼‰ã€‚
- **LaTeX æŠ¥é”™ï¼š** ç¡®ä¿å®‰è£…å®Œæ•´ XeLaTeX å¥—ä»¶ï¼ˆå¿…è¦æ—¶ `texlive-full`ï¼‰ã€‚
- **äº¤å‰å¼•ç”¨ç¼ºå¤±ï¼š** ç¡®è®¤ `pandoc-crossref` åœ¨ PATH ä¸­ã€‚

è¾“å‡ºï¼š`ucagent-doc.pdf` å¯éšç‰ˆæœ¬å‘å¸ƒåˆ†å‘ã€‚

---

## è·å–æ›´å¤šå¸®åŠ©

- ğŸ“š [UCAgent åœ¨çº¿æ–‡æ¡£](https://ucagent.open-verify.cc)
- ğŸš€ [å¿«é€Ÿå¼€å§‹æŒ‡å—](https://ucagent.open-verify.cc/usage/)
- ğŸ”§ [è‡ªå®šä¹‰é…ç½®](https://ucagent.open-verify.cc/develop/customize/)
- ğŸ› ï¸ [å·¥å…·åˆ—è¡¨](https://ucagent.open-verify.cc/develop/tool_list/)
- ğŸ’¬ [GitHub Issues](https://github.com/XS-MLVP/UCAgent/issues)

### è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
