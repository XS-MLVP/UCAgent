---
name: ieee754
description: 当待测设计的输入输出涉及到IEEE二进制浮点数算术标准(IEEE 754)时,例如设计文档中出现**IEEE754,浮点数,ieee754,float**等相关词汇时,使用该技能进一步补充IEEE 754标准下浮点数的表示格式\舍入规则\特殊值等专业知识
---

# IEEE 754 浮点数标准

## 概述

IEEE 754是定义浮点数算术运算的技术标准,广泛应用于计算机系统中。该标准定义了浮点数的表示格式、舍入规则、异常处理等内容。

## 浮点数表示格式

IEEE 754浮点数由三部分组成:**符号位(Sign)**、**指数(Exponent)**和**尾数(Mantissa/Significand)**。

通用格式:
```
(-1)^S × 1.M × 2^(E - Bias)
```

其中:
- S: 符号位(0表示正数,1表示负数)
- M: 尾数(小数部分)
- E: 指数
- Bias: 偏移量,用于表示负指数

### 半精度(16位,FP16/binary16)

| 组成部分 | 位数 | 位置 |
|---------|------|------|
| 符号位 | 1位 | 第15位 |
| 指数 | 5位 | 第14-10位 |
| 尾数 | 10位 | 第9-0位 |

- **偏移量(Bias)**: 15
- **指数范围**: -14 到 +15(规格化数)
- **精度**: 约3.31位十进制数
- **表示范围**: ±6.55×10⁴ 到 ±6.10×10⁻⁵

### 单精度(32位,FP32/binary32)

| 组成部分 | 位数 | 位置 |
|---------|------|------|
| 符号位 | 1位 | 第31位 |
| 指数 | 8位 | 第30-23位 |
| 尾数 | 23位 | 第22-0位 |

- **偏移量(Bias)**: 127
- **指数范围**: -126 到 +127(规格化数)
- **精度**: 约7.22位十进制数
- **表示范围**: ±3.4×10³⁸ 到 ±1.18×10⁻³⁸

**示例**:
- 数值 -12.375 的表示:
  - 符号位: 1 (负数)
  - 12.375 = 1100.011₂ = 1.100011₂ × 2³
  - 指数: 3 + 127 = 130 = 10000010₂
  - 尾数: 10001100000000000000000₂
  - 完整表示: `1 10000010 10001100000000000000000`

### 双精度(64位,FP64/binary64)

| 组成部分 | 位数 | 位置 |
|---------|------|------|
| 符号位 | 1位 | 第63位 |
| 指数 | 11位 | 第62-52位 |
| 尾数 | 52位 | 第51-0位 |

- **偏移量(Bias)**: 1023
- **指数范围**: -1022 到 +1023(规格化数)
- **精度**: 约15.95位十进制数
- **表示范围**: ±1.8×10³⁰⁸ 到 ±2.23×10⁻³⁰⁸

## 特殊值表示

IEEE 754定义了几种特殊值来处理异常情况:

### 零(Zero)

- **+0**: 符号位=0,指数全为0,尾数全为0
- **-0**: 符号位=1,指数全为0,尾数全为0

注意:+0和-0在比较时相等,但在某些运算中行为不同。

### 无穷大(Infinity)

- **+∞**: 符号位=0,指数全为1,尾数全为0
- **-∞**: 符号位=1,指数全为1,尾数全为0

产生情况:溢出、除以零等。

### 非数值(NaN - Not a Number)

指数全为1,尾数不全为0。

分为两类:
- **静默NaN(Quiet NaN, qNaN)**: 尾数最高位为1
- **信号NaN(Signaling NaN, sNaN)**: 尾数最高位为0,但至少有一位非零

产生情况:0/0、∞-∞、√(-1)等无效操作。

### 非规格化数(Denormalized/Subnormal Numbers)

指数全为0,尾数不全为0。

表示形式: `(-1)^S × 0.M × 2^(1-Bias)`

作用:填补最小规格化数和零之间的间隙,实现渐进下溢。

## 舍入模式

IEEE 754定义了5种舍入模式:

1. **向最近偶数舍入(Round to Nearest, ties to Even)** - 默认模式
2. **向零舍入(Round toward Zero)** - 截断
3. **向正无穷舍入(Round toward +∞)** - 向上取整
4. **向负无穷舍入(Round toward -∞)** - 向下取整
5. **向最近舍入,远离零(Round to Nearest, ties away from Zero)** - IEEE 754-2008新增

## 浮点数运算

基本运算包括:加、减、乘、除、平方根、余数、融合乘加(FMA)等。

运算遵循的原则:
- 先按无限精度计算
- 然后按指定舍入模式舍入到目标格式

## 官方标准和详细资源

更多详细的技术规范、边界情况处理、扩展格式等内容,请参考:

- **IEEE官方标准**: [IEEE 754-2019 Standard for Floating-Point Arithmetic](https://ieeexplore.ieee.org/document/8766229)
- **在线浮点转换器**: [IEEE 754 Converter](https://www.h-schmidt.net/FloatConverter/IEEE754.html)
- **Wikipedia详细介绍**: [IEEE 754 - Wikipedia](https://en.wikipedia.org/wiki/IEEE_754)
- **浮点数可视化工具**: [Float Toy](https://evanw.github.io/float-toy/)

这些资源提供了完整的技术细节,包括:
- 扩展精度格式(80位、128位等)
- 异常标志和陷阱处理
- 比较操作的详细语义
- 各种边界情况的处理规则
- 不同硬件实现的差异

