
# Mux 验证规划

## 1. 验证目标

根据 `Mux/README.md` 的要求，本次验证旨在全面测试4选1多路选择器（Mux）的功能正确性。主要验证目标包括：

- **选择功能验证：** 确保在不同的 `sel` 信号控制下，Mux 能够正确选择并输出对应的 `in_data`。
- **通道连通性验证：** 保证所有4个输入通道 (`in_data[0]` 到 `in_data[3]`) 都能被正确地选通到输出。
- **默认行为验证：** 检查是否存在未明确定义的 `sel` 值下的默认输出行为。
- **边界条件验证：** 测试在 `sel` 信号的边界值（如0和3）下，Mux 是否能正常工作。

## 2. 风险点分析

- **逻辑错误：** `sel` 信号与 `in_data` 输入的对应关系可能存在编码错误。例如，`sel` 为 `01` 时，可能错误地选择了 `in_data[0]` 而不是 `in_data[1]`。
- **输出非预期值：** 在某些 `sel` 组合下，输出 `out` 可能为高阻态（Z）或不确定态（X），而不是预期的输入值。
- **输入通道阻塞：** 某个或多个 `in_data` 输入可能永久性断开，无法在任何 `sel` 条件下被选通。

## 3. 验证策略与计划

为了系统性地覆盖所有验证目标并应对潜在风险，特制定以下验证计划：

### 3.1. 基本功能测试

- **测试描述：** 遍历所有可能的 `sel` 值（00, 01, 10, 11），并为每个 `sel` 值设置一组独特的输入，以验证输出是否与预期一致。
- **测试步骤：**
    1.  **`sel` = 00:** 设置 `in_data` = `[1, 0, 0, 0]`，预期 `out` = 1。
    2.  **`sel` = 01:** 设置 `in_data` = `[0, 1, 0, 0]`，预期 `out` = 1。
    3.  **`sel` = 10:** 设置 `in_data` = `[0, 0, 1, 0]`，预期 `out` = 1。
    4.  **`sel` = 11:** 设置 `in_data` = `[0, 0, 0, 1]`，预期 `out` = 1。

### 3.2. 通道连通性详尽测试

- **测试描述：** 确保每个 `in_data` 通道都能独立、正确地将信号传递到输出。
- **测试步骤：**
    - 针对每个输入通道 `i`（从0到3）：
        1.  设置 `sel` = `i`。
        2.  设置 `in_data[i]` = 1，其余 `in_data` 输入为0。
        3.  检查 `out` 是否为 1。
        4.  设置 `in_data[i]` = 0，其余 `in_data` 输入为1。
        5.  检查 `out` 是否为 0。

### 3.3. 边界条件测试

- **测试描述：** 验证 Mux 在 `sel` 信号的边界值时是否正常工作。
- **测试步骤：**
    1.  **`sel` = 00 (下边界):** 运行 3.1 中的 `sel`=00 测试用例。
    2.  **`sel` = 11 (上边界):** 运行 3.1 中的 `sel`=11 测试用例。

### 3.4. 组合输入测试

- **测试描述：** 测试当所有输入信号相同时，Mux 的输出是否正确。
- **测试步骤：**
    1.  设置 `in_data` = `[1, 1, 1, 1]`。
    2.  遍历 `sel` 从 00 到 11，检查 `out` 是否始终为 1。
    3.  设置 `in_data` = `[0, 0, 0, 0]`。
    4.  遍历 `sel` 从 00 到 11，检查 `out` 是否始终为 0。

## 4. 验证环境

- **仿真工具：** 基于 Python 的仿真环境。
- **待验证设计 (DUT)：** `Mux.v`
- **文档语言：** 所有文档和代码注释均使用中文。
